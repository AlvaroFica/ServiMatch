{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Registro de Trabajador</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'css/registrar-trabajador.css' %}">
</head>
<body>
    <form id="multi-step-form" method="POST" action="" enctype="multipart/form-data">
        {% csrf_token %}

        <!-- Paso 1 -->
        <div class="step active" id="step-1">
            <h2>¡Empecemos!</h2>
            <label for="rut">RUT:</label>
            <input type="text" id="rut" name="rut" required>
            <button type="button" class="next-btn" onclick="nextStep(1)">Siguiente</button>
        </div>

        <!-- Paso 2 -->
        <div class="step" id="step-2">
            <h2>Registro</h2>
            <label for="correo">Correo electrónico:</label>
            <input type="email" id="correo" name="correo" required>

            <label for="contraseña">Contraseña:</label>
            <input type="password" id="contraseña" name="contraseña" required>

            <label for="repetir-contraseña">Repetir Contraseña:</label>
            <input type="password" id="repetir-contraseña" name="repetir-contraseña" required>

            <button type="button" class="prev-btn" onclick="prevStep(2)">Anterior</button>
            <button type="button" class="next-btn" onclick="nextStep(2)">Siguiente</button>
        </div>

        <!-- Paso 3 -->
        <div class="step" id="step-3">
            <h2>Datos Personales</h2>
            <label for="nombre">Nombre:</label>
            <input type="text" id="nombre" name="nombre" required>

            <label for="apellido">Apellido:</label>
            <input type="text" id="apellido" name="apellido" required>

            <label for="fecha_nacimiento">Fecha de nacimiento:</label>
            <input type="date" id="fecha_nacimiento" name="fecha_nacimiento" required>

            <label for="celular">Celular:</label>
            <input type="tel" id="celular" name="celular" required>

            <button type="button" class="prev-btn" onclick="prevStep(3)">Anterior</button>
            <button type="button" class="next-btn" onclick="nextStep(3)">Siguiente</button>
        </div>

        <!-- Paso 4 -->
        <div class="step" id="step-4">
            <h2>Dirección</h2>
            <label for="comuna">Comuna:</label>
            <select id="comuna" name="comuna" required>
                {% for comuna in comunas %}
                    <option value="{{ comuna.id }}">{{ comuna.nombre_comuna }}</option>
                {% endfor %}
            </select>

            <label for="direccion">Dirección:</label>
            <input type="text" id="direccion" name="direccion" required>

            <button type="button" class="prev-btn" onclick="prevStep(4)">Anterior</button>
            <button type="button" class="next-btn" onclick="nextStep(4)">Siguiente</button>
        </div>

        <!-- Paso 5 -->
        <div class="step" id="step-5">
            <h2>Foto de perfil (opcional)</h2>
            <label for="foto_perfil">Sube tu foto:</label>
            <input type="file" id="foto_perfil" name="foto_perfil" accept="image/*">

            <button type="button" class="prev-btn" onclick="prevStep(5)">Anterior</button>
            <button type="submit">Finalizar</button>
        </div>
    </form>

    <script>
        function nextStep(currentStep) {
            document.getElementById(`step-${currentStep}`).classList.remove('active');
            document.getElementById(`step-${currentStep + 1}`).classList.add('active');
        }

        function prevStep(currentStep) {
            document.getElementById(`step-${currentStep}`).classList.remove('active');
            document.getElementById(`step-${currentStep - 1}`).classList.add('active');
        }

        // Mostrar primer paso al cargar (por si no tiene la clase activa)
        document.addEventListener("DOMContentLoaded", function () {
            const firstStep = document.querySelector('.step');
            if (firstStep && !firstStep.classList.contains('active')) {
                firstStep.classList.add('active');
            }
        });
    </script>
</body>
</html>
