{% extends 'admin/base_admin.html' %}
{% block title %}CPU / Memoria{% endblock %}
{% block page_title %}CPU / Memoria{% endblock %}
{% block content %}
  <div style="display:flex;gap:2rem">
    <div><h3>CPU %</h3><p id="cpu">–</p></div>
    <div><h3>Memoria %</h3><p id="mem">–</p></div>
  </div>
  <script>
    const M = 'http://127.0.0.1:8000/api/monitor/system-metrics/';
    async function load(){let r=await fetch(M),j=await r.json();
      document.getElementById('cpu').textContent=j.cpu_percent+'%';
      document.getElementById('mem').textContent=j.memory_percent+'%';
    }
    load();setInterval(load,5000);
  </script>
{% endblock %}
